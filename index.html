<head>
<script>
    function fetchData(){
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
             if (this.readyState == 4 && this.status == 200) {
                 html = "<ul>";
                // Typical action to be performed when the document is ready:
                 const obj = JSON.parse(xhttp.responseText)
                 console.log(obj)

                 for(v in obj){
                    html+="<li>"+obj[v].title+ ":<a href=\"http://localhost:3000/watch?id="+ obj[v].path +"\"> watch here </a></li>";
                 }
                 html+="</ul>"

                 document.getElementById("videolist").innerHTML = html;
                 
             }
        };
        xhttp.open("GET", "http://localhost:3000/recentuploads", true);
        xhttp.send();
    }
</script>
</head>
<body onload="fetchData()">
    <h3>Recent uploads : </h3>
    <div id="videolist">

    </div>
    <br>
    or <a href="/upload" >click here</a> to upload a new video.
</body>